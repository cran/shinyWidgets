function forceIonSliderTextUpdate(slider){slider.$cache&&slider.$cache.input?slider.$cache.input.trigger("change"):console.log("Couldn't force ion slider to update")}document.addEventListener("click",function(){"[object HTMLButtonElement]"==document.activeElement.toString()&document.activeElement.classList.contains("checkbtn")&&document.activeElement.blur()});var exports4but=window.Shiny=window.Shiny||{},$escape4but=exports4but.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},checkboxGroupButtonsBinding=new Shiny.InputBinding;$.extend(checkboxGroupButtonsBinding,{find:function(scope){return $(scope).find(".checkboxGroupButtons")},getId:function(el){return el.id},getValue:function(el){for(var $objs=$('input:checkbox[name="'+$escape4but(el.id)+'"]:checked'),values=new Array($objs.length),i=0;i<$objs.length;i++)values[i]=$objs[i].value;return values},setValue:function(el,value){if($('input:checkbox[name="'+$escape4but(el.id)+'"]').prop("checked",!1),$('input:checkbox[name="'+$escape4but(el.id)+'"]').parent().removeClass("active"),$('input:checkbox[name="'+$escape4but(el.id)+'"]').parent().blur(),value instanceof Array)for(var i=0;i<value.length;i++)$('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value[i])+'"]').parent().addClass("active"),$('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value[i])+'"]').prop("checked",!0);else $('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').parent().addClass("active"),$('input:checkbox[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').prop("checked",!0)},subscribe:function(el,callback){$(el).on("change.checkboxGroupButtonsBinding",function(){callback()})},unsubscribe:function(el){$(el).off(".checkboxGroupButtonsBinding")},getState:function(el){for(var $objs=$('input:checkbox[name="'+$escape4but(el.id)+'"]'),options=new Array($objs.length),i=0;i<options.length;i++)options[i]={value:$objs[i].value};return{value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&($el.find("div.btn-group-container-sw").empty(),$el.find("div.btn-group-container-sw").append(data.options)),data.hasOwnProperty("selected")&&this.setValue(el,data.selected),data.hasOwnProperty("label")&&$el.find('label[for="'+$escape4but(el.id)+'"]').text(data.label),$(el).trigger("change")}}),Shiny.inputBindings.register(checkboxGroupButtonsBinding,"shiny.checkboxGroupButtonsInput");var exportsMulti=window.Shiny=window.Shiny||{},$escapeMulti=exportsMulti.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},multiInputBinding=new Shiny.InputBinding;$.extend(multiInputBinding,{find:function(scope){return $(scope).find(".multijs")},getId:function(el){return el.id},getValue:function(el){return $(el).val()},setValue:function(el,value){$(el).val(value).change()},getState:function(el){for(var options=new Array(el.length),i=0;i<el.length;i++)options[i]={value:el[i].value,label:el[i].label};return{label:$(el).parent().find('label[for="'+$escapeMulti(el.id)+'"]').text(),value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&$el.empty().append(data.options),data.hasOwnProperty("value")&&this.setValue(el,data.value),data.hasOwnProperty("label")&&$(el).parent().parent().find('label[for="'+$escapeMulti(el.id)+'"]').text(data.label),$(el).trigger("change")},subscribe:function(el,callback){$(el).on("change",function(){callback()})},unsubscribe:function(el){$(el).off(".multiInputBinding")}}),Shiny.inputBindings.register(multiInputBinding,"shiny.multiInput"),Shiny.addCustomMessageHandler("update-progressBar-shinyWidgets",function(data){var pct,id=data.id,total=null!==typeof data.total?data.total:-1,value=data.value;total>0?(pct=Math.round(value/total*100),$("#"+id+"-value").text(value),$("#"+id+"-total").text(total)):pct=Math.round(value),$("#"+id).css("width",pct+"%");var txt=$("#"+id).text();""!==txt&&$("#"+id).text(pct+"%"),null!==data.status&&($("#"+id).removeClass(),$("#"+id).addClass("progress-bar progress-bar-"+data.status))});var exports4but=window.Shiny=window.Shiny||{},$escape4but=exports4but.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},radioGroupButtonsBinding=new Shiny.InputBinding;$.extend(radioGroupButtonsBinding,{find:function(scope){return $(scope).find(".radioGroupButtons")},getId:function(el){return el.id},getValue:function(el){return $('input:radio[name="'+$escape4but(el.id)+'"]:checked').val()},setValue:function(el,value){$('input:radio[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').prop("checked",!0),$('input:radio[name="'+$escape4but(el.id)+'"]').parent().removeClass("active"),$('input:radio[name="'+$escape4but(el.id)+'"][value="'+$escape4but(value)+'"]').parent().addClass("active")},subscribe:function(el,callback){$(el).on("change.radioGroupButtonsBinding",function(){callback()})},unsubscribe:function(el){$(el).off(".radioGroupButtonsBinding")},getState:function(el){for(var $objs=$('input:radio[name="'+$escape4but(el.id)+'"]'),options=new Array($objs.length),i=0;i<options.length;i++)options[i]={value:$objs[i].value,label:this._getLabel($objs[i])};return{label:$(el).parent().find('label[for="'+$escape4but(el.id)+'"]').text(),value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&($el.find("div.btn-group-container-sw").empty(),$el.find("div.btn-group-container-sw").append(data.options)),data.hasOwnProperty("selected")&&this.setValue(el,data.selected),data.hasOwnProperty("label")&&$(el).parent().find('label[for="'+$escape4but(el.id)+'"]').text(data.label),$(el).trigger("change")}}),Shiny.inputBindings.register(radioGroupButtonsBinding,"shiny.radioGroupButtonsInput");var exportsSearch=window.Shiny=window.Shiny||{},$escapeSearch=exportsSearch.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},searchInputBinding=new Shiny.InputBinding;$.extend(searchInputBinding,{find:function(scope){return $(scope).find(".search-text")},getId:function(el){return $(el).attr("id")},getValue:function(el){return $("#se"+$escapeSearch(el.id)).val()},setValue:function(el,value){$("#se"+$escapeSearch(el.id)).val(value)},subscribe:function(el,callback){$("#se"+$escapeSearch(el.id)).on("keyup.searchInputBinding input.searchInputBinding",function(event){13==event.keyCode&&callback()}),$("#"+$escapeSearch(el.id)+"_search").on("click",function(){callback()}),$("#"+$escapeSearch(el.id)+"_reset").on("click",function(){$("#se"+$escapeSearch(el.id)).val(""),callback()})},unsubscribe:function(el){$(el).off(".searchInputBinding")},receiveMessage:function(el,data){data.hasOwnProperty("value")&&this.setValue(el,data.value),$(el).trigger("change")},getState:function(el){return{value:this.getValue(el)}},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(searchInputBinding,"shiny.searchInput"),$(function(){$(".selectpicker").each(function(){$(this).selectpicker()})});var exportsPicker=window.Shiny=window.Shiny||{},$escapePicker=exportsPicker.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},pickerInputBinding=new Shiny.InputBinding;$.extend(pickerInputBinding,{find:function(scope){return $(scope).find(".selectpicker")},getId:function(el){return el.id},getValue:function(el){return $(el).val()},setValue:function(el,value){$(el).val(value),$(el.id).selectpicker("refresh")},getState:function(el){for(var options=new Array(el.length),i=0;i<el.length;i++)options[i]={value:el[i].value,label:el[i].label};return{label:$(el).parent().find('label[for="'+$escapePicker(el.id)+'"]').text(),value:this.getValue(el),options:options}},receiveMessage:function(el,data){var $el=$(el);data.hasOwnProperty("options")&&($el.empty().append(data.options),$(el.id).selectpicker("refresh")),data.hasOwnProperty("value")&&this.setValue(el,data.value),data.hasOwnProperty("label")&&$(el).parent().parent().find('label[for="'+$escapePicker(el.id)+'"]').text(data.label),$(el.id).selectpicker("refresh"),$(el).trigger("change")},subscribe:function(el,callback){$(el).on("changed.bs.select",function(){$(el).selectpicker("refresh"),callback()})},unsubscribe:function(el){$(el).off(".pickerInputBinding")},initialize:function(el){$(el).selectpicker()}}),Shiny.inputBindings.register(pickerInputBinding,"shiny.pickerInput");var sliderTextBinding=new Shiny.InputBinding;$.extend(sliderTextBinding,{find:function(scope){return $.fn.ionRangeSlider?$(scope).find(".sw-slider-text"):[]},getType:function(el){var dataType=$(el).data("data-type");return"date"===dataType?"shiny.date":"datetime"===dataType?"shiny.datetime":!1},getValue:function(el){var slider=($(el),$(el).data("ionRangeSlider")),result=slider.result,options=slider.options,values=options.values;return 2===this._numValues(el)?[values[result.from],values[result.to]]:values[result.from]},setValue:function(el,value){var $el=$(el),slider=$el.data("ionRangeSlider");$el.data("immediate",!0);try{slider.update(2===this._numValues(el)&&value instanceof Array?{from:value[0],to:value[1]}:{from:value}),forceIonSliderTextUpdate(slider)}finally{$el.data("immediate",!1)}},subscribe:function(el,callback){$(el).on("change.sliderInputBinding",function(){callback(!$(el).data("immediate")&&!$(el).data("animating"))})},unsubscribe:function(el){$(el).off(".sliderInputBinding")},receiveMessage:function(el,data){var $el=$(el),slider=$el.data("ionRangeSlider"),options=slider.options,msg={},values=options.values;data.hasOwnProperty("choices")&&(msg.values=data.choices,values=data.choices),data.hasOwnProperty("selected")&&(2===this._numValues(el)&&data.selected instanceof Array?(msg.from=values.indexOf(data.selected[0]),msg.to=values.indexOf(data.selected[1])):msg.from=values.indexOf(data.selected)),data.hasOwnProperty("from_fixed")&&(msg.from_fixed=data.from_fixed),data.hasOwnProperty("to_fixed")&&(msg.to_fixed=data.to_fixed),data.hasOwnProperty("label")&&$el.parent().find('label[for="'+$escape(el.id)+'"]').text(data.label),$el.data("immediate",!0);try{slider.update(msg),forceIonSliderTextUpdate(slider)}finally{$el.data("immediate",!1)}},getRatePolicy:function(){return{policy:"debounce",delay:250}},getState:function(){},initialize:function(el){var opts={},$el=$(el),values=$(el).data("swvalues");opts.values=values,$el.ionRangeSlider(opts)},_numValues:function(el){return"double"===$(el).data("ionRangeSlider").options.type?2:1}}),Shiny.inputBindings.register(sliderTextBinding,"shiny.sliderText");var exportsSpectrum=window.Shiny=window.Shiny||{},$escapeSearch=exportsSpectrum.$escape=function(val){return val.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},spectrumInputBinding=new Shiny.InputBinding;$.extend(spectrumInputBinding,{find:function(scope){return $(scope).find(".sw-spectrum")},getId:function(el){return $(el).attr("id")},getValue:function(el){return $(el).spectrum("get").toHexString()},setValue:function(el,value){$(el).spectrum("set",value)},subscribe:function(el,callback){$(el).on("change move.spectrum",function(){callback()})},unsubscribe:function(el){$(el).off(".spectrumInputBinding")},receiveMessage:function(el,data){data.hasOwnProperty("value")&&this.setValue(el,data.value),$(el).trigger("change")},getState:function(el){return{value:this.getValue(el)}},initialize:function(el){var opts={};$(el).spectrum(opts)}}),Shiny.inputBindings.register(spectrumInputBinding,"shiny.spectrumInput"),$(function(){$(".sw-switchInput").each(function(){$(this).bootstrapSwitch()})});var switchInputBinding=new Shiny.InputBinding;$.extend(switchInputBinding,{find:function(scope){return $(scope).find(".sw-switchInput")},getId:function(el){return el.id},getValue:function(el){return el.checked},setValue:function(el,value){el.checked=value},subscribe:function(el,callback){$(el).on("switchChange.bootstrapSwitch",function(){callback(!1)})},unsubscribe:function(el){$(el).off(".switchInputBinding")},getState:function(el){return{value:el.checked}},receiveMessage:function(el,data){data.hasOwnProperty("value")&&(el.checked=data.value),data.hasOwnProperty("label")&&$(el).bootstrapSwitch("labelText",data.label),data.hasOwnProperty("offLabel")&&$(el).bootstrapSwitch("offText",data.offLabel),data.hasOwnProperty("onLabel")&&$(el).bootstrapSwitch("onText",data.onLabel),data.hasOwnProperty("onStatus")&&$(el).bootstrapSwitch("onColor",data.onStatus),data.hasOwnProperty("offStatus")&&$(el).bootstrapSwitch("offColor",data.offStatus),data.hasOwnProperty("disabled")&&$(el).bootstrapSwitch("disabled",data.disabled,data.disabled),$(el).trigger("change")},initialize:function(el){$(el).bootstrapSwitch()}}),Shiny.inputBindings.register(switchInputBinding,"shiny.switchInput");
